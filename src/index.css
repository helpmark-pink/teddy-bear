@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --app-height: 100%;
}

html {
  height: -webkit-fill-available;
  -webkit-tap-highlight-color: transparent;
}

body {
  min-height: 100vh;
  min-height: -webkit-fill-available;
  overflow: hidden;
  position: fixed;
  width: 100%;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: none;
  touch-action: manipulation;
}

#root {
  height: 100vh;
  height: calc(var(--vh, 1vh) * 100);
}

@supports (-webkit-touch-callout: none) {
  .h-screen {
    height: -webkit-fill-available;
  }
}

/* らくらくフォン用の大きいフォントと要素サイズ */
@media screen and (max-width: 320px) {
  .easy-phone-text {
    font-size: 1.2rem !important;
  }
  
  .easy-phone-input {
    font-size: 1.1rem !important;
    height: 3rem !important;
  }
  
  .easy-phone-button {
    padding: 0.75rem !important;
  }

  /* 3Dモデル調整 */
  .model-container-small {
    height: 38vh !important;
  }
}

/* 小型デバイス用 */
@media screen and (max-width: 375px) {
  .device-small {
    padding: 0.5rem !important;
  }
  
  .chat-height-small {
    max-height: 55vh !important;
  }

  /* 3Dモデル調整 */
  .model-container-small {
    height: 40vh !important;
    min-height: 200px !important;
  }
}

/* iPhone 16/Pro 用 */
@media screen and (min-width: 390px) and (max-width: 428px) {
  .iphone16-character {
    height: 40vh !important;
    min-height: 220px !important;
  }
  
  .iphone16-chat {
    height: calc(60vh - 4rem) !important;
  }
}

/* 6.3インチスマホ用（429-510px幅） */
@media screen and (min-width: 429px) and (max-width: 510px) {
  .large-phone-character {
    height: 42vh !important;
    min-height: 240px !important;
  }
  
  .large-phone-chat {
    height: calc(58vh - 4rem) !important;
  }
}

/* より大きなモバイルデバイス用 */
@media screen and (min-width: 429px) and (max-width: 768px) {
  .device-medium {
    padding: 0.75rem !important;
  }

  .model-container-medium {
    height: 45vh !important;
  }
}

/* 大画面デバイス向け最適化 */
@media screen and (min-width: 769px) {
  .device-large {
    padding: 1rem !important;
  }
}

/* 超縦長デバイス対応（iPhone Pro Max等） */
@media screen and (min-width: 390px) and (min-height: 800px) and (max-width: 428px) {
  .tall-device-character {
    height: 35vh !important;
  }
  
  .tall-device-chat {
    height: calc(65vh - 4rem) !important;
  }
}

/* 6.3インチの縦長デバイス対応 */
@media screen and (min-width: 429px) and (max-width: 510px) and (min-height: 850px) {
  .large-phone-character {
    height: 38vh !important;
  }
  
  .large-phone-chat {
    height: calc(62vh - 4rem) !important;
  }
}

/* 3Dモデル容器のスタイリング */
.character-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}

.character-container canvas {
  outline: none;
  touch-action: none;
}

/* 固定フッター */
.chat-footer {
  position: sticky;
  bottom: 0;
  background-color: white;
  width: 100%;
  z-index: 10;
  border-top: 1px solid #fce7f3;
}

/* 入力エリア最適化 */
.chat-input-area {
  display: flex;
  align-items: center;
  padding: 0.5rem;
  gap: 0.5rem;
}